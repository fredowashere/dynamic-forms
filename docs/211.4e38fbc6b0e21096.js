"use strict";(self.webpackChunkmulti_layout=self.webpackChunkmulti_layout||[]).push([[211],{211:(Ft,P,p)=>{p.r(P),p.d(P,{OrganizzazioniModule:()=>T});var g=p(6895),L=p(646),S=p(1509),b=p(5861),s=p(433),t=p(1571);const d={MANAGER:"manager",REVIEWER:"reviewer",EMITTER:"emitter"},J=Object.values(d);var _=(()=>{return(o=_||(_={})).classification="classification",o.regression="regression",_;var o})(),h=(()=>((h||(h={})).XGBoostClassified="XGBoostClassified",h))(),C=(()=>{return(o=C||(C={})).XGBoostReg="XGBoostReg",o.LLR="LLR",C;var o})(),z=(()=>{return(o=z||(z={})).binary_logistic="binary:logistic",o.multi_softmax="multi:softmax",z;var o})(),M=(()=>{return(o=M||(M={})).reg_squarederror="reg:squarederror",o.reg_absoluteerror="reg:absoluteerror",o.reg_squaredlogerror="reg:squaredlogerror",M;var o})(),I=(()=>{return(o=I||(I={})).l1="l1",o.l2="l2",o.elisticnet="elisticnet",o.None="None",I;var o})();class m{constructor(){this.organizations=[{id:1,name:"Prima prova",description:"La mia prima organizzazione",users:[{id:1,firstName:"Tizio",username:"tizio1984",password:"prova",roles:[d.MANAGER]},{id:2,firstName:"Caio",lastName:"Rossi",username:"caio_rossi_90",password:"prova",roles:[d.MANAGER]},{id:3,firstName:"Sempronio",lastName:"Severi",username:"sempronio_super_69",password:"prova",roles:[d.REVIEWER]},{id:4,username:"pippo",password:"prova",roles:[d.EMITTER]}],projects:[{id:1,name:"Prima prova",description:"Il mio primo progetto",reviewsRequired:1,approvalCount:0,participantsRequired:10,participants:[],status:"pending"}]},{id:2,name:"Ospedale X",description:"Questo \xe8 il contenitore dell'Ospedale X",users:[{id:1,firstName:"Tizio",username:"tizio1984",password:"prova",roles:[d.MANAGER]},{id:2,firstName:"Caio",lastName:"Rossi",username:"caio_rossi_90",password:"prova",roles:[d.MANAGER]},{id:3,firstName:"Sempronio",lastName:"Severi",username:"sempronio_super_69",password:"prova",roles:[d.REVIEWER]},{id:4,username:"pippo",password:"prova",roles:[d.EMITTER]}],projects:[{id:2,name:"Regressione patologia Y",description:"Con questo progetto speriamo di poter scoprire una correlazione tra A e B",reviewsRequired:2,approvalCount:2,participantsRequired:4,participants:[{id:1,firstName:"Tizio",username:"tizio1984",password:"prova",roles:[d.MANAGER]},{id:2,firstName:"Caio",lastName:"Rossi",username:"caio_rossi_90",password:"prova",roles:[d.MANAGER]},{id:3,firstName:"Sempronio",lastName:"Severi",username:"sempronio_super_69",password:"prova",roles:[d.REVIEWER]},{id:4,username:"pippo",password:"prova",roles:[d.EMITTER]}],status:"running"}]}],this.loadFromLocalStorage(),console.log("State",this)}saveIntoLocalStorage(){localStorage.setItem("organizations",JSON.stringify(this.organizations))}loadFromLocalStorage(){const n=localStorage.getItem("organizations");n&&(this.organizations=JSON.parse(n))}getOrganizations(){return[...this.organizations].reverse()}getOrganizationById(n){return this.organizations.find(e=>e.id==n)}insertOrganization(n){const e=this.organizations[this.organizations.length-1];this.organizations.push({...n,id:e?e.id+1:1}),this.saveIntoLocalStorage()}updateOrganization(n,e){const i=this.organizations.find(({id:a})=>a===n);if(i){const a=this.organizations.findIndex(({id:r})=>r===n);this.organizations.splice(a,1,{...i,...e}),this.saveIntoLocalStorage()}}deleteOrganization(n){const e=this.organizations.findIndex(({id:i})=>i===n);e>-1&&(this.organizations.splice(e,1),this.saveIntoLocalStorage())}getProjects(n){return[...this.getOrganizationById(n)?.projects||[]].reverse()}getProjectById(n,e){return this.getOrganizationById(n)?.projects.find(i=>i.id==e)}insertProject(n,e){const i=this.getOrganizationById(n);if(i){const a=i.projects[i.projects.length-1];i.projects.push({...e,id:a?a.id+1:1}),this.saveIntoLocalStorage()}}updateProject(n,e,i){const a=this.getOrganizationById(n);if(a){const r=a.projects.find(({id:l})=>l===e);if(r){const l=a.projects.findIndex(({id:j})=>j===e);a.projects.splice(l,1,{...r,...i}),this.saveIntoLocalStorage()}}}deleteProject(n,e){const i=this.getOrganizationById(n);if(i){const a=i.projects.findIndex(({id:r})=>r===e);a>-1&&(i.projects.splice(a,1),this.saveIntoLocalStorage())}}getUsers(n){return[...this.getOrganizationById(n)?.users||[]].reverse()}getUserById(n,e){return this.getOrganizationById(n)?.users.find(({id:i})=>i==e)}insertUser(n,e){const i=this.getOrganizationById(n);if(i){const a=i.users[i.users.length-1];i.users.push({...e,id:a?a.id+1:1}),this.saveIntoLocalStorage()}}updateUser(n,e,i){const a=this.getOrganizationById(n);if(a){const r=a.users.find(({id:l})=>l===e);if(r){const l=a.users.findIndex(({id:j})=>j===e);a.users.splice(l,1,{...r,...i}),this.saveIntoLocalStorage()}}}deleteUser(n,e){const i=this.getOrganizationById(n);if(i){const a=i.users.findIndex(({id:r})=>r===e);a>-1&&(i.users.splice(a,1),this.saveIntoLocalStorage())}}}m.\u0275fac=function(n){return new(n||m)},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var c=p(7914),A=p(228);class v{constructor(n,e){this.activeModal=n,this.state=e,this.ROLES=J,this.form=new s.cw({name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),description:new s.NI("",{nonNullable:!0,validators:[s.kI.required]})})}ngOnInit(){this.organizationId&&(this.organization=this.state.getOrganizationById(this.organizationId),this.organization&&this.form.patchValue({...this.organization}))}save(){this.organization?this.update():this.create()}create(){this.form.invalid||(this.state.insertOrganization({...this.form.getRawValue(),users:[],projects:[]}),this.activeModal.close())}update(){!this.organization||this.form.invalid||(this.state.updateOrganization(this.organizationId,{...this.form.getRawValue(),users:[],projects:[]}),this.activeModal.close())}}v.\u0275fac=function(n){return new(n||v)(t.Y36(c.Kz),t.Y36(m))},v.\u0275cmp=t.Xpm({type:v,selectors:[["ng-component"]],inputs:{organizationId:"organizationId"},decls:14,vars:6,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off","novalidate",""],[1,"flexgrid"],["name","name","label","Name",3,"ngControl","floatingLabel"],["type","textarea","name","description","label","Description",3,"ngControl","floatingLabel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return e.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"form",4)(6,"div",5),t._UZ(7,"app-input",6)(8,"app-input",7),t.qZA()()(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){return e.activeModal.dismiss("Cancel")}),t._uU(11," Cancel "),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){return e.save()}),t._uU(13," Save "),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",e.organization?"Edit":"Create"," organization "),t.xp6(5),t.Q6J("ngControl",e.form.controls.name)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.form.controls.description)("floatingLabel",!0),t.xp6(4),t.Q6J("disabled",e.form.invalid))},dependencies:[s._Y,s.JL,s.F,A.a],encapsulation:2});var Q=p(7579),U=p(1135),R=p(6451),E=p(2722),Y=p(8505);function k(o,n=self,e="."){return o.split(e).reduce((i,a)=>i?.[a],n)}var F=p(3488);const D={asc:"desc",desc:"","":"asc"};class u{constructor(){this.sortable="",this.direction="",this.sort=new t.vpe}rotate(){this.direction=D[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}u.\u0275fac=function(n){return new(n||u)},u.\u0275dir=t.lG2({type:u,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(n,e){1&n&&t.NdJ("click",function(){return e.rotate()}),2&n&&t.ekj("asc","asc"===e.direction)("desc","desc"===e.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"},standalone:!0});class Z{constructor(n,e){this.ctx={ngLet:null},n.createEmbeddedView(e,this.ctx)}set ngLet(n){this.ctx.ngLet=n}}function H(o,n){if(1&o&&(t.TgZ(0,"option",15),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e),t.xp6(1),t.Oqu(e)}}function B(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"ngb-pagination",12),t.NdJ("pageChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.page=a)})("pageChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.paginate())}),t.qZA(),t.TgZ(2,"select",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.pageSize=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.paginate())}),t.YNc(3,H,2,2,"option",14),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("collectionSize",e.collectionSize)("page",e.page)("pageSize",e.pageSize)("maxSize",3)("rotate",!0)("boundaryLinks",!0),t.xp6(1),t.Q6J("ngModel",e.pageSize),t.xp6(1),t.Q6J("ngForOf",e.pageSizes)}}function V(o,n){if(1&o&&t._UZ(0,"app-input",19),2&o){const e=t.oxw(2);t.Q6J("ngControl",e.searchInput)("name","search-input-"+e._guid)}}function $(o,n){1&o&&t.GkF(0)}function K(o,n){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,$,1,0,"ng-container",5),t.qZA()),2&o){t.oxw(2);const e=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function X(o,n){if(1&o&&(t.TgZ(0,"div",16)(1,"div"),t.YNc(2,V,1,2,"app-input",17),t.qZA(),t.YNc(3,K,2,1,"div",18),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.searchable),t.xp6(1),t.Q6J("ngIf",e.paginated)}}function W(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"th",20)(1,"div",21)(2,"input",22),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(a.currentTarget.checked?r.onEveryRowSelect():r.onEveryRowDeselect())}),t.qZA()()()}}function tt(o,n){1&o&&t._UZ(0,"th",20)}function et(o,n){1&o&&t.GkF(0)}function nt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td")(1,"div",21)(2,"input",26),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2).$implicit;return t.KtG(r._selected=a)})("change",function(a){t.CHM(e);const r=t.oxw(2).$implicit,l=t.oxw();return t.KtG(a.currentTarget.checked?l.onRowSelect(r):l.onRowDeselect(r))}),t.qZA()()()}if(2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngModel",e._selected)}}function ot(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td")(1,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().ngLet;return t.KtG(a.collapsed=!a.collapsed)}),t.qZA()()}if(2&o){const e=t.oxw().ngLet;t.xp6(1),t.uIk("aria-expanded",!e.collapsed)}}function it(o,n){1&o&&t.GkF(0)}function at(o,n){1&o&&t.GkF(0)}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(t.s_b),t.Y36(t.Rgc))},Z.\u0275dir=t.lG2({type:Z,selectors:[["","ngLet",""]],inputs:{ngLet:"ngLet"}});const q=function(o,n,e){return{$implicit:o,index:n,term$:e}};function rt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",28)(2,"div",29,30),t.NdJ("ngbCollapseChange",function(a){t.CHM(e);const r=t.oxw().ngLet;return t.KtG(r.collapsed=a)}),t.YNc(4,at,1,0,"ng-container",24),t.qZA()()()}if(2&o){const e=t.oxw().ngLet,i=t.oxw(),a=i.$implicit,r=i.index,l=t.oxw();t.xp6(2),t.Q6J("ngbCollapse",e.collapsed),t.xp6(2),t.Q6J("ngTemplateOutlet",l.rowExpand)("ngTemplateOutletContext",t.kEZ(3,q,a,r,l.lastTerm$))}}function st(o,n){1&o&&t._UZ(0,"tr",31)}function lt(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"tr"),t.YNc(2,nt,3,1,"td",7),t.YNc(3,ot,2,1,"td",7),t.YNc(4,it,1,0,"ng-container",24),t.qZA(),t.YNc(5,rt,5,7,"tr",7),t.YNc(6,st,1,0,"tr",25),t.BQk()),2&o){const e=t.oxw(),i=e.$implicit,a=e.index,r=t.oxw();t.xp6(1),t.ekj("animated",r.animated),t.xp6(1),t.Q6J("ngIf",r.selectable),t.xp6(1),t.Q6J("ngIf",r.rowExpand),t.xp6(1),t.Q6J("ngTemplateOutlet",r.tbody)("ngTemplateOutletContext",t.kEZ(8,q,i,a,r.lastTerm$)),t.xp6(1),t.Q6J("ngIf",r.rowExpand),t.xp6(1),t.Q6J("ngIf",r.rowExpand)}}const ct=function(){return{collapsed:!0}};function pt(o,n){1&o&&(t.ynx(0),t.YNc(1,lt,7,12,"ng-container",23),t.BQk()),2&o&&(t.xp6(1),t.Q6J("ngLet",t.DdM(1,ct)))}function dt(o,n){1&o&&t.GkF(0)}function gt(o,n){if(1&o&&(t.TgZ(0,"tfoot")(1,"tr"),t.YNc(2,dt,1,0,"ng-container",5),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.tfoot)}}function mt(o,n){1&o&&t.GkF(0)}function ut(o,n){if(1&o&&(t.ynx(0),t.YNc(1,mt,1,0,"ng-container",5),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function _t(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ut,2,1,"ng-container",7),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.items.length)}}function ht(o,n){if(1&o&&(t.TgZ(0,"div",33),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.emptyMessage," ")}}function ft(o,n){if(1&o&&t.YNc(0,ht,2,1,"div",32),2&o){const e=t.oxw();t.Q6J("ngIf",!e.items.length)}}function bt(o,n){if(1&o&&t._UZ(0,"app-input",19),2&o){const e=t.oxw(2);t.Q6J("ngControl",e.searchInputRelay)("name","search-input-relay-"+e._guid)}}function Ct(o,n){1&o&&t.GkF(0)}function vt(o,n){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,Ct,1,0,"ng-container",5),t.qZA()),2&o){t.oxw(2);const e=t.MAs(1);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function xt(o,n){if(1&o&&(t.TgZ(0,"div",34)(1,"div"),t.YNc(2,bt,1,2,"app-input",17),t.qZA(),t.YNc(3,vt,2,1,"div",18),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.searchable),t.xp6(1),t.Q6J("ngIf",e.paginated)}}const yt=function(o){return{"max-height":o}};class f{constructor(){this.destroy$=new Q.x,this._guid="app-table-"+(0,F.M)(),this.animated=!1,this.trackByFn=(n,e)=>e,this.emptyMessage="No results to display",this.stickyHead=!1,this.maxHeight=!1,this.searchable=!1,this.paginated=!1,this.pageSize=5,this.pageSizes=[5,10,25,50],this.duplicateControls=!1,this.paginatedItems$=new U.X([]),this.page=1,this.searchInput=new s.NI("",{nonNullable:!0}),this.searchInputRelay=new s.NI("",{nonNullable:!0}),this.lastTerm$=new U.X(""),this.filteredItems=[],this.lastColumn="",this.lastDirection="",this.sortedItems=[],this.selectable=!1,this.rowSelected=new t.vpe,this.rowDeselected=new t.vpe}get selectedRows(){return this.paginatedItems$.getValue().filter(n=>n._selected)}ngOnInit(){if(!this.thead)throw Error("AppTable needs a thead template");if(!this.tbody)throw Error("AppTable needs a tbody template");if(!this.items||this.items&&!Array.isArray(this.items))throw Error("AppTable needs the items array");const[n,e]=[this.searchInput,this.searchInputRelay],i={onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0};n.valueChanges.subscribe(a=>e.setValue(a,i)),e.valueChanges.subscribe(a=>n.setValue(a,i)),(0,R.T)(n.valueChanges,e.valueChanges).pipe((0,E.R)(this.destroy$),(0,Y.b)(a=>{this.lastTerm$.next(a),this.search()})).subscribe()}ngOnChanges(n){n.items.currentValue!==n.items.previousValue&&this.items&&Array.isArray(this.items)&&(this.paginated||(this.pageSize=this.items.length),this.collectionSize=this.items.length,this.search())}ngOnDestroy(){this.destroy$.next()}search(){this.filter(),this.sort({column:this.lastColumn,direction:this.lastDirection})}filter(){this.filteredItems=this.items.filter(n=>{const e=(this.lastTerm$.getValue()||"").toLowerCase();return this.searchable&&Array.isArray(this.searchable)&&this.searchable.length?this.searchable.some(a=>((k(a,n)||"")+"").toLowerCase().includes(e)):JSON.stringify(n).toLowerCase().includes(e)}),this.collectionSize=this.filteredItems.length}sort({column:n,direction:e}){if(!this.headers)return this.sortedItems=this.filteredItems,void this.paginate();this.headers.forEach(i=>{i.sortable!==n&&(i.direction="")}),this.sortedItems=""===n||""===e?this.filteredItems:[...this.filteredItems].sort((i,a)=>{const r=function G(o,n){const e=null==o,i=null==n;return e&&i?0:e?-1:i?1:o<n?-1:o>n?1:0}(k(n,i),k(n,a));return"asc"===e?r:-r}),this.lastColumn=n,this.lastDirection=e,this.paginate()}paginate(){this.sortedItems.forEach(e=>e._selected=!1);const n=this.sortedItems.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize);this.paginatedItems$.next(n)}onRowSelect(n){this.rowSelected.emit(n)}onRowDeselect(n){this.rowDeselected.emit(n)}onEveryRowSelect(){this.paginatedItems$.getValue().forEach(e=>e._selected=!0)}onEveryRowDeselect(){this.paginatedItems$.getValue().forEach(e=>e._selected=!1)}}f.\u0275fac=function(n){return new(n||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-table"]],contentQueries:function(n,e,i){if(1&n&&t.Suo(i,u,4),2&n){let a;t.iGM(a=t.CRH())&&(e.headers=a)}},inputs:{thead:"thead",tbody:"tbody",animated:"animated",rowExpand:"rowExpand",tfoot:"tfoot",items:"items",trackByFn:"trackByFn",emptyTemplate:"emptyTemplate",emptyMessage:"emptyMessage",stickyHead:"stickyHead",maxHeight:"maxHeight",searchable:"searchable",paginated:"paginated",pageSize:"pageSize",pageSizes:"pageSizes",duplicateControls:"duplicateControls",selectable:"selectable"},outputs:{rowSelected:"rowSelected",rowDeselected:"rowDeselected"},features:[t.TTD],decls:18,vars:17,consts:[["paginationTemplate",""],["class","d-flex justify-content-center justify-content-lg-between flex-wrap gap-2 p-3 mb-2",4,"ngIf"],[1,"table-responsive",3,"ngStyle"],[1,"table","table-striped"],["style","width: 60px",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["empty",""],["class","d-flex justify-content-center justify-content-lg-between flex-wrap gap-2 p-3",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center","gap-2"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],[1,"form-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"d-flex","justify-content-center","justify-content-lg-between","flex-wrap","gap-2","p-3","mb-2"],["style","max-width: 250px","placeholder","Search \u2315",3,"ngControl","name",4,"ngIf"],["class","d-flex flex-wrap justify-content-center gap-2",4,"ngIf"],["placeholder","Search \u2315",2,"max-width","250px",3,"ngControl","name"],[2,"width","60px"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change"],[4,"ngLet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","hidden",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","change"],["type","button","aria-controls","collapseExample",1,"btn","collapse-toggle",3,"click"],["colspan","99",1,"row-expand"],[3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"hidden"],["class","p-3 text-center",4,"ngIf"],[1,"p-3","text-center"],[1,"d-flex","justify-content-center","justify-content-lg-between","flex-wrap","gap-2","p-3"]],template:function(n,e){if(1&n&&(t.YNc(0,B,4,8,"ng-template",null,0,t.W1O),t.YNc(2,X,4,2,"div",1),t.TgZ(3,"div",2)(4,"table",3)(5,"thead")(6,"tr"),t.YNc(7,W,3,0,"th",4),t.YNc(8,tt,1,0,"th",4),t.YNc(9,et,1,0,"ng-container",5),t.qZA()(),t.TgZ(10,"tbody"),t.YNc(11,pt,2,2,"ng-container",6),t.ALo(12,"async"),t.qZA(),t.YNc(13,gt,3,1,"tfoot",7),t.qZA()(),t.YNc(14,_t,2,1,"ng-container",8),t.YNc(15,ft,1,1,"ng-template",null,9,t.W1O),t.YNc(17,xt,4,2,"div",10)),2&n){const i=t.MAs(16);t.xp6(2),t.Q6J("ngIf",e.searchable||e.paginated),t.xp6(1),t.Q6J("ngStyle",t.VKq(15,yt,e.maxHeight)),t.xp6(2),t.ekj("sticky-head",e.stickyHead),t.xp6(2),t.Q6J("ngIf",e.selectable),t.xp6(1),t.Q6J("ngIf",e.rowExpand),t.xp6(1),t.Q6J("ngTemplateOutlet",e.thead),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,13,e.paginatedItems$))("ngForTrackBy",e.trackByFn),t.xp6(2),t.Q6J("ngIf",e.tfoot&&(null==e.items?null:e.items.length)),t.xp6(1),t.Q6J("ngIf",e.emptyTemplate)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",e.duplicateControls&&(e.searchable||e.paginated))}},dependencies:[g.sg,g.O5,g.tP,g.PC,s.YN,s.Kr,s.Wl,s.EJ,s.JJ,s.On,c._D,c.N9,A.a,Z,g.Ov],styles:['[_nghost-%COMP%]{display:block}.table[_ngcontent-%COMP%]{margin-bottom:0;vertical-align:middle}.animated[_ngcontent-%COMP%]{animation:forwards ease-out .3s _ngcontent-%COMP%_FadeIn;filter:blur(2px);left:-5px;opacity:0;position:relative}.animated[_ngcontent-%COMP%]:nth-child(1){animation-delay:20ms}.animated[_ngcontent-%COMP%]:nth-child(2){animation-delay:40ms}.animated[_ngcontent-%COMP%]:nth-child(3){animation-delay:60ms}.animated[_ngcontent-%COMP%]:nth-child(4){animation-delay:80ms}.animated[_ngcontent-%COMP%]:nth-child(5){animation-delay:.1s}.animated[_ngcontent-%COMP%]:nth-child(6){animation-delay:.12s}.animated[_ngcontent-%COMP%]:nth-child(7){animation-delay:.14s}.animated[_ngcontent-%COMP%]:nth-child(8){animation-delay:.16s}.animated[_ngcontent-%COMP%]:nth-child(9){animation-delay:.18s}.animated[_ngcontent-%COMP%]:nth-child(10){animation-delay:.2s}.animated[_ngcontent-%COMP%]:nth-child(11){animation-delay:.22s}.animated[_ngcontent-%COMP%]:nth-child(12){animation-delay:.24s}.animated[_ngcontent-%COMP%]:nth-child(13){animation-delay:.26s}.animated[_ngcontent-%COMP%]:nth-child(14){animation-delay:.28s}.animated[_ngcontent-%COMP%]:nth-child(15){animation-delay:.3s}.animated[_ngcontent-%COMP%]:nth-child(16){animation-delay:.32s}.animated[_ngcontent-%COMP%]:nth-child(17){animation-delay:.34s}.animated[_ngcontent-%COMP%]:nth-child(18){animation-delay:.36s}.animated[_ngcontent-%COMP%]:nth-child(19){animation-delay:.38s}.animated[_ngcontent-%COMP%]:nth-child(20){animation-delay:.4s}.animated[_ngcontent-%COMP%]:nth-child(21){animation-delay:.42s}.animated[_ngcontent-%COMP%]:nth-child(22){animation-delay:.44s}.animated[_ngcontent-%COMP%]:nth-child(23){animation-delay:.46s}.animated[_ngcontent-%COMP%]:nth-child(24){animation-delay:.48s}.animated[_ngcontent-%COMP%]:nth-child(25){animation-delay:.5s}.animated[_ngcontent-%COMP%]:nth-child(26){animation-delay:.52s}.animated[_ngcontent-%COMP%]:nth-child(27){animation-delay:.54s}.animated[_ngcontent-%COMP%]:nth-child(28){animation-delay:.56s}.animated[_ngcontent-%COMP%]:nth-child(29){animation-delay:.58s}.animated[_ngcontent-%COMP%]:nth-child(30){animation-delay:.6s}.animated[_ngcontent-%COMP%]:nth-child(31){animation-delay:.62s}.animated[_ngcontent-%COMP%]:nth-child(32){animation-delay:.64s}.animated[_ngcontent-%COMP%]:nth-child(33){animation-delay:.66s}.animated[_ngcontent-%COMP%]:nth-child(34){animation-delay:.68s}.animated[_ngcontent-%COMP%]:nth-child(35){animation-delay:.7s}.animated[_ngcontent-%COMP%]:nth-child(36){animation-delay:.72s}.animated[_ngcontent-%COMP%]:nth-child(37){animation-delay:.74s}.animated[_ngcontent-%COMP%]:nth-child(38){animation-delay:.76s}.animated[_ngcontent-%COMP%]:nth-child(39){animation-delay:.78s}.animated[_ngcontent-%COMP%]:nth-child(40){animation-delay:.8s}.animated[_ngcontent-%COMP%]:nth-child(41){animation-delay:.82s}.animated[_ngcontent-%COMP%]:nth-child(42){animation-delay:.84s}.animated[_ngcontent-%COMP%]:nth-child(43){animation-delay:.86s}.animated[_ngcontent-%COMP%]:nth-child(44){animation-delay:.88s}.animated[_ngcontent-%COMP%]:nth-child(45){animation-delay:.9s}.animated[_ngcontent-%COMP%]:nth-child(46){animation-delay:.92s}.animated[_ngcontent-%COMP%]:nth-child(47){animation-delay:.94s}.animated[_ngcontent-%COMP%]:nth-child(48){animation-delay:.96s}.animated[_ngcontent-%COMP%]:nth-child(49){animation-delay:.98s}.animated[_ngcontent-%COMP%]:nth-child(50){animation-delay:1s}@keyframes _ngcontent-%COMP%_FadeIn{0%{filter:blur(2px);left:-5px;opacity:0}to{filter:blur(0px);left:0;opacity:1}}.row-expand[_ngcontent-%COMP%]{background:#0000!important;border:none;padding:0!important}.collapse-toggle[_ngcontent-%COMP%]:after{content:"\\f283";display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;line-height:1;vertical-align:-.125em}.collapse-toggle[aria-expanded=true][_ngcontent-%COMP%]:after{content:"\\f27d"}.collapse-toggle.collapsed[_ngcontent-%COMP%]:after{content:"\\f283"}tfoot[_ngcontent-%COMP%]{background:rgba(var(--app-gray_800),1);color:rgba(var(--app-gray_0),1)}.sticky-head[_ngcontent-%COMP%]{background:rgba(var(--app-gray_0),1);box-shadow:0 2px 16px #0002;position:sticky;top:0;z-index:1}@media (max-width: 650px){thead[_ngcontent-%COMP%]{display:none}  td{display:grid}  td:before{content:attr(data-label);font-weight:700}}']});class x{constructor(n,e){this.activeModal=n,this.state=e,this.ROLES=J,this.form=new s.cw({firstName:new s.NI(""),lastName:new s.NI(""),username:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),password:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),roles:new s.NI([],{nonNullable:!0})})}ngOnInit(){this.userId&&(this.user=this.state.getUserById(this.organizationId,this.userId),this.user&&this.form.patchValue({...this.user}))}save(){this.user?this.update():this.create()}create(){this.form.invalid||(this.state.insertUser(this.organizationId,{...this.form.getRawValue()}),this.activeModal.close())}update(){!this.user||this.form.invalid||(this.state.updateUser(this.organizationId,this.user.id,{...this.form.getRawValue()}),this.activeModal.close())}}function Tt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"th",7),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(1,"Nome"),t.qZA(),t.TgZ(2,"th",8),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(3,"Cognome"),t.qZA(),t.TgZ(4,"th",9),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(5,"Username"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Roles"),t.qZA(),t._UZ(8,"th",10)}}function zt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t._UZ(1,"ngb-highlight",11),t.ALo(2,"async"),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"ngb-highlight",11),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"ngb-highlight",11),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"td",12),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",13)(13,"button",1),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.update(r))}),t._UZ(14,"i",14),t.qZA(),t.TgZ(15,"button",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.delete(r.id))}),t._UZ(16,"i",16),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.term$;t.xp6(1),t.Q6J("result",e.firstName)("term",t.lcZ(2,8,i)||""),t.xp6(3),t.Q6J("result",e.lastName)("term",t.lcZ(5,10,i)||""),t.xp6(3),t.Q6J("result",e.username)("term",t.lcZ(8,12,i)||""),t.xp6(3),t.hij(" ",e.roles.join(", ")," "),t.xp6(5),t.Q6J("disabled",e.roles.includes("manager"))}}x.\u0275fac=function(n){return new(n||x)(t.Y36(c.Kz),t.Y36(m))},x.\u0275cmp=t.Xpm({type:x,selectors:[["ng-component"]],inputs:{organizationId:"organizationId",userId:"userId"},decls:18,vars:13,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off","novalidate",""],[1,"flexgrid","flexgrid--2"],["name","firstName","label","First name",3,"ngControl","floatingLabel"],["name","lastName","label","Last name",3,"ngControl","floatingLabel"],["name","username","label","Username *","type","text",3,"ngControl","floatingLabel"],["name","password","label","Password *","type","password",3,"ngControl","floatingLabel"],[1,"flexgrid"],["name","roles","label","Roles","type","tagger",3,"options","ngControl","floatingLabel"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return e.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"form",4)(6,"div",5),t._UZ(7,"app-input",6)(8,"app-input",7)(9,"app-input",8)(10,"app-input",9),t.qZA(),t.TgZ(11,"div",10),t._UZ(12,"app-input",11),t.qZA()()(),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){return e.activeModal.dismiss("Cancel")}),t._uU(15," Cancel "),t.qZA(),t.TgZ(16,"button",14),t.NdJ("click",function(){return e.save()}),t._uU(17," Save "),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",e.user?"Edit":"Create"," user "),t.xp6(5),t.Q6J("ngControl",e.form.controls.firstName)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.form.controls.lastName)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.form.controls.username)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.form.controls.password)("floatingLabel",!0),t.xp6(2),t.Q6J("options",e.ROLES)("ngControl",e.form.controls.roles)("floatingLabel",!0),t.xp6(4),t.Q6J("disabled",e.form.invalid))},dependencies:[s._Y,s.JL,s.F,A.a],encapsulation:2});const It=function(){return["firstName","lastName","username"]};class w{constructor(n,e){this.state=n,this.modalService=e,this.organizationId=-1}create(){var n=this;return(0,b.Z)(function*(){const e=n.modalService.open(x,{size:"lg",centered:!0});e.componentInstance.organizationId=n.organizationId,yield e.result})()}update(n){var e=this;return(0,b.Z)(function*(){const i=e.modalService.open(x,{size:"lg",centered:!0});i.componentInstance.organizationId=e.organizationId,i.componentInstance.userId=n.id,yield i.result})()}delete(n){confirm("Se sicuro di voler procedere?")&&this.state.deleteUser(this.organizationId,n)}}function Zt(o,n){if(1&o&&(t.TgZ(0,"form",15)(1,"div",16),t._UZ(2,"app-input",17)(3,"app-input",18),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngControl",e.projectInformation.controls.name)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.projectInformation.controls.description)("floatingLabel",!0)}}function wt(o,n){if(1&o&&(t.TgZ(0,"div",24),t._UZ(1,"app-input",25)(2,"app-input",26)(3,"app-input",27)(4,"app-input",28)(5,"app-input",29),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("options",e.modelObjectives)("ngControl",e.modelConfiguration.controls.objective)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.modelConfiguration.controls.max_depth)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.modelConfiguration.controls.alpha)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.modelConfiguration.controls.gamma)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.modelConfiguration.controls.learning_rate)("floatingLabel",!0)}}function Nt(o,n){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"app-input",30)(2,"app-input",31)(3,"app-input",32),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("options",e.modelPenalties)("ngControl",e.modelConfiguration.controls.penalty)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.modelConfiguration.controls.max_iter)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.modelConfiguration.controls.fit_intercept)("floatingLabel",!0)}}function Ot(o,n){if(1&o&&(t.TgZ(0,"form",15)(1,"div",19),t._UZ(2,"app-input",20)(3,"app-input",21),t.qZA(),t.YNc(4,wt,6,11,"div",22),t.YNc(5,Nt,4,7,"div",23),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("options",e.modelTypes)("ngControl",e.modelConfiguration.controls.type)("floatingLabel",!0),t.xp6(1),t.Q6J("options",e.modelNames)("ngControl",e.modelConfiguration.controls.name)("floatingLabel",!0),t.xp6(1),t.Q6J("ngIf",e.ModelNameClassifier.XGBoostClassified===e.modelConfiguration.value.name||e.ModelNameRegressor.XGBoostReg===e.modelConfiguration.value.name),t.xp6(1),t.Q6J("ngIf",e.ModelNameRegressor.LLR===e.modelConfiguration.value.name)}}function Mt(o,n){if(1&o&&(t.TgZ(0,"form",15)(1,"div",24),t._UZ(2,"app-input",33)(3,"app-input",34)(4,"app-input",35)(5,"app-input",36)(6,"app-input",37)(7,"app-input",38),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngControl",e.federationConfiguration.controls.num_round)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.federationConfiguration.controls.min_available_clients)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.federationConfiguration.controls.fraction_fit)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.federationConfiguration.controls.min_fit_clients)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.federationConfiguration.controls.fraction_evaluate)("floatingLabel",!0),t.xp6(1),t.Q6J("ngControl",e.federationConfiguration.controls.min_evaluate_clients)("floatingLabel",!0)}}function At(o,n){1&o&&t._UZ(0,"form",15)}w.\u0275fac=function(n){return new(n||w)(t.Y36(m),t.Y36(c.FF))},w.\u0275cmp=t.Xpm({type:w,selectors:[["app-utenti"]],inputs:{organizationId:"organizationId"},decls:10,vars:7,consts:[[1,"d-flex","gap-2","p-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus"],[3,"thead","tbody","items","searchable","paginated","pageSize"],["dt",""],["thead",""],["tbody",""],["sortable","firstName",3,"sort"],["sortable","lastName",3,"sort"],["sortable","username",3,"sort"],[2,"width","10rem"],[3,"result","term"],[2,"max-width","40ch"],[1,"d-flex","gap-2","justify-content-center"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-danger",3,"disabled","click"],[1,"bi","bi-trash3"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return e.create()}),t._UZ(2,"i",2),t._uU(3," Add new user "),t.qZA()(),t.TgZ(4,"app-table",3,4),t.YNc(6,Tt,9,0,"ng-template",null,5,t.W1O),t.YNc(8,zt,17,14,"ng-template",null,6,t.W1O),t.qZA()),2&n){const i=t.MAs(7),a=t.MAs(9);t.xp6(4),t.Q6J("thead",i)("tbody",a)("items",e.state.getUsers(e.organizationId))("searchable",t.DdM(6,It))("paginated",!0)("pageSize",5)}},dependencies:[c._h,f,u,g.Ov]});class y{constructor(n,e){this.activeModal=n,this.state=e,this.ROLES=J,this.ModelNameClassifier=h,this.ModelNameRegressor=C,this.modelTypes=Object.values(_).map(i=>({text:i,value:i})),this.modelNameClassifiers=Object.values(h).map(i=>({text:i,value:i})),this.modelNameRegressors=Object.values(C).map(i=>({text:i,value:i})),this.modelNames=this.modelNameClassifiers,this.modelObjectiveClassifiers=Object.values(z).map(i=>({text:i,value:i})),this.modelObjectiveRegressors=Object.values(M).map(i=>({text:i,value:i})),this.modelObjectives=this.modelObjectiveClassifiers,this.modelPenalties=Object.values(I).map(i=>({text:i,value:i})),this.projectInformation=new s.cw({name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),description:new s.NI("",{nonNullable:!0,validators:[s.kI.required]})}),this.modelConfiguration=new s.cw({type:new s.NI(_.classification,{nonNullable:!0,validators:[s.kI.required]}),name:new s.NI(h.XGBoostClassified,{nonNullable:!0,validators:[s.kI.required]}),objective:new s.NI(z.binary_logistic),learning_rate:new s.NI(.3),max_depth:new s.NI(6),alpha:new s.NI(0),gamma:new s.NI(0),penalty:new s.NI(I.l2),max_iter:new s.NI(100),fit_intercept:new s.NI(!0)}),this.federationConfiguration=new s.cw({num_round:new s.NI(5,{nonNullable:!0,validators:[s.kI.required]}),min_available_clients:new s.NI(2,{nonNullable:!0,validators:[s.kI.required]}),fraction_fit:new s.NI(1,{nonNullable:!0,validators:[s.kI.required]}),min_fit_clients:new s.NI(2,{nonNullable:!0,validators:[s.kI.required]}),fraction_evaluate:new s.NI(0,{nonNullable:!0,validators:[s.kI.required]}),min_evaluate_clients:new s.NI(0,{nonNullable:!0,validators:[s.kI.required]})}),this.datasetModelling=new s.cw({})}ngOnInit(){this.reactivity(),this.projectId&&(this.project=this.state.getProjectById(this.organizationId,this.projectId),this.project&&(this.projectInformation.patchValue({...this.project}),this.project.model&&this.modelConfiguration.patchValue({...this.project.model}),this.project.federation&&this.federationConfiguration.patchValue({...this.project.federation})))}reactivity(){this.modelConfiguration.controls.type.valueChanges.subscribe(n=>{n===_.classification&&(this.modelNames=this.modelNameClassifiers,this.modelConfiguration.patchValue({name:this.modelNameClassifiers[0].text})),n===_.regression&&(this.modelNames=this.modelNameRegressors,this.modelConfiguration.patchValue({name:this.modelNameRegressors[0].text}))}),this.modelConfiguration.controls.name.valueChanges.subscribe(n=>{n===h.XGBoostClassified&&(this.modelObjectives=this.modelObjectiveClassifiers,this.modelConfiguration.patchValue({objective:this.modelObjectiveClassifiers[0].text})),n===C.XGBoostReg&&(this.modelObjectives=this.modelObjectiveRegressors,this.modelConfiguration.patchValue({objective:this.modelObjectiveRegressors[0].text}))})}save(){this.project?this.update():this.create()}create(){this.projectInformation.invalid||(this.state.insertProject(this.organizationId,{...this.projectInformation.getRawValue(),model:{...this.modelConfiguration.getRawValue()},federation:{...this.federationConfiguration.getRawValue()},reviewsRequired:0,approvalCount:0,participantsRequired:0,participants:[],status:"pending"}),this.activeModal.close())}update(){!this.project||this.projectInformation.invalid||(this.state.updateProject(this.organizationId,this.project.id,{...this.projectInformation.getRawValue(),model:{...this.modelConfiguration.getRawValue()},federation:{...this.federationConfiguration.getRawValue()},reviewsRequired:0,approvalCount:0,participantsRequired:0,participants:[],status:"pending"}),this.activeModal.close())}}function Jt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"th",7),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(1,"Name"),t.qZA(),t.TgZ(2,"th",8),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(3,"Description"),t.qZA(),t.TgZ(4,"th",9),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(5,"Approvals"),t.qZA(),t.TgZ(6,"th",10),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(7,"Participants"),t.qZA(),t.TgZ(8,"th",11),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(5);return t.KtG(r.sort(a))}),t._uU(9,"Status"),t.qZA(),t._UZ(10,"th",12)}}function kt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t._UZ(1,"ngb-highlight",13),t.ALo(2,"async"),t.qZA(),t.TgZ(3,"td",14),t._UZ(4,"ngb-highlight",13),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"div",15)(14,"button",16),t._uU(15,"Actions"),t.qZA(),t.TgZ(16,"div",17)(17,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.update(r))}),t._uU(18,"Edit"),t.qZA(),t.TgZ(19,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.duplicate(r))}),t._uU(20,"Duplicate"),t.qZA(),t._UZ(21,"div",19),t.TgZ(22,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.delete(r.id))}),t._uU(23,"Delete"),t.qZA()()()()}if(2&o){const e=n.$implicit,i=n.term$;t.xp6(1),t.Q6J("result",e.name)("term",t.lcZ(2,9,i)||""),t.xp6(3),t.Q6J("result",e.description)("term",t.lcZ(5,11,i)||""),t.xp6(3),t.AsE(" ",e.approvalCount," / ",e.reviewsRequired," "),t.xp6(2),t.AsE(" ",e.participants.length," / ",e.participantsRequired," "),t.xp6(2),t.hij(" ","pending"===e.status?"waiting for approval":e.status," ")}}y.\u0275fac=function(n){return new(n||y)(t.Y36(c.Kz),t.Y36(m))},y.\u0275cmp=t.Xpm({type:y,selectors:[["ng-component"]],inputs:{organizationId:"organizationId",projectId:"projectId"},decls:41,vars:4,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["ngbNav","",1,"wiz",3,"destroyOnHide"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink","",1,"wiz__step","text-center"],[1,"wiz__title","d-block","d-md-none"],[1,"wiz__descr"],["ngbNavContent",""],[1,"my-3",2,"min-height","40vh",3,"ngbNavOutlet"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["autocomplete","off","novalidate",""],[1,"flexgrid"],["name","name","label","Name",3,"ngControl","floatingLabel"],["type","textarea","name","description","label","Description",3,"ngControl","floatingLabel"],[1,"flexgrid","flexgrid--2"],["type","select","name","problemType","label","Problem type",3,"options","ngControl","floatingLabel"],["type","select","name","modelName","label","Model name",3,"options","ngControl","floatingLabel"],["class","flexgrid flexgrid--3",4,"ngIf"],["class","flexgrid flexgrid--2",4,"ngIf"],[1,"flexgrid","flexgrid--3"],["type","select","name","modelObjective","label","Objective",3,"options","ngControl","floatingLabel"],["type","number","name","maxDepth","label","Max depth",3,"ngControl","floatingLabel"],["type","number","name","alpha","label","Alpha",3,"ngControl","floatingLabel"],["type","number","name","gamma","label","Gamma",3,"ngControl","floatingLabel"],["type","number","name","learningRate","label","Learning rate",3,"ngControl","floatingLabel"],["type","select","name","penalty","label","Penalty",3,"options","ngControl","floatingLabel"],["type","number","name","maxIter","label","Max iter",3,"ngControl","floatingLabel"],["type","checkbox","name","fitIntercept","label","Fit intercept?",3,"ngControl","floatingLabel"],["type","number","name","numRound","label","Number of rounds",3,"ngControl","floatingLabel"],["type","number","name","minavailableClients","label","Minimum available clients",3,"ngControl","floatingLabel"],["type","number","name","fractionFit","label","Fraction fit",3,"ngControl","floatingLabel"],["type","number","name","minFitClients","label","Minimum fit clients",3,"ngControl","floatingLabel"],["type","number","name","fractionEvaluate","label","Fraction evaluate",3,"ngControl","floatingLabel"],["type","number","name","minEvaluateClients","label","Minimum evaluate clients",3,"ngControl","floatingLabel"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return e.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"nav",4,5),t.ynx(7,6),t.TgZ(8,"a",7)(9,"div",8),t._uU(10,"Step 1"),t.qZA(),t.TgZ(11,"div",9),t._uU(12,"Project information"),t.qZA()(),t.YNc(13,Zt,4,4,"ng-template",10),t.BQk(),t.ynx(14,6),t.TgZ(15,"a",7)(16,"div",8),t._uU(17,"Step 2"),t.qZA(),t.TgZ(18,"div",9),t._uU(19,"Model configuration"),t.qZA()(),t.YNc(20,Ot,6,8,"ng-template",10),t.BQk(),t.ynx(21,6),t.TgZ(22,"a",7)(23,"div",8),t._uU(24,"Step 3"),t.qZA(),t.TgZ(25,"div",9),t._uU(26,"Federation configuration"),t.qZA()(),t.YNc(27,Mt,8,12,"ng-template",10),t.BQk(),t.ynx(28,6),t.TgZ(29,"a",7)(30,"div",8),t._uU(31,"Step 4"),t.qZA(),t.TgZ(32,"div",9),t._uU(33,"Dataset modelling"),t.qZA()(),t.YNc(34,At,1,0,"ng-template",10),t.BQk(),t.qZA(),t._UZ(35,"div",11),t.qZA(),t.TgZ(36,"div",12)(37,"button",13),t.NdJ("click",function(){return e.activeModal.dismiss("Cancel")}),t._uU(38," Cancel "),t.qZA(),t.TgZ(39,"button",14),t.NdJ("click",function(){return e.save()}),t._uU(40," Save "),t.qZA()()),2&n){const i=t.MAs(6);t.xp6(2),t.hij(" ",e.project?"Edit":"Create"," project "),t.xp6(3),t.Q6J("destroyOnHide",!1),t.xp6(30),t.Q6J("ngbNavOutlet",i),t.xp6(4),t.Q6J("disabled",e.projectInformation.invalid)}},dependencies:[g.O5,s._Y,s.JL,s.F,c.uN,c.Pz,c.nv,c.Vx,c.tO,A.a],encapsulation:2});const jt=function(){return["name","description"]};class N{constructor(n,e){this.state=n,this.modalService=e,this.organizationId=-1}create(){var n=this;return(0,b.Z)(function*(){const e=n.modalService.open(y,{size:"xl",centered:!0});e.componentInstance.organizationId=n.organizationId,yield e.result})()}update(n){var e=this;return(0,b.Z)(function*(){const i=e.modalService.open(y,{size:"xl",centered:!0});i.componentInstance.organizationId=e.organizationId,i.componentInstance.projectId=n.id,yield i.result})()}duplicate(n){this.state.insertProject(this.organizationId,n)}delete(n){confirm("Se sicuro di voler procedere?")&&this.state.deleteProject(this.organizationId,n)}}function Pt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"th",9),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(6);return t.KtG(r.sort(a))}),t._uU(1,"Name"),t.qZA(),t.TgZ(2,"th",10),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(6);return t.KtG(r.sort(a))}),t._uU(3,"Description"),t.qZA(),t.TgZ(4,"th",11),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(6);return t.KtG(r.sort(a))}),t._uU(5,"Projects"),t.qZA(),t.TgZ(6,"th",12),t.NdJ("sort",function(a){t.CHM(e),t.oxw();const r=t.MAs(6);return t.KtG(r.sort(a))}),t._uU(7,"Users"),t.qZA(),t._UZ(8,"th",13)}}function Ut(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td"),t._UZ(1,"ngb-highlight",14),t.ALo(2,"async"),t.qZA(),t.TgZ(3,"td",15),t._UZ(4,"ngb-highlight",14),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"div",16)(12,"button",2),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.update(r))}),t._UZ(13,"i",17),t.qZA(),t.TgZ(14,"button",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.delete(r.id))}),t._UZ(15,"i",19),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.term$;t.xp6(1),t.Q6J("result",e.name)("term",t.lcZ(2,6,i)||""),t.xp6(3),t.Q6J("result",e.description)("term",t.lcZ(5,8,i)||""),t.xp6(3),t.Oqu(e.projects.length),t.xp6(2),t.Oqu(e.users.length)}}function qt(o,n){if(1&o&&t._UZ(0,"app-progetti",28),2&o){const e=t.oxw(2).$implicit;t.Q6J("organizationId",e.id)}}function Lt(o,n){if(1&o&&t._UZ(0,"app-utenti",28),2&o){const e=t.oxw(2).$implicit;t.Q6J("organizationId",e.id)}}function St(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",21)(1,"ul",22,23),t.NdJ("activeIdChange",function(a){const l=t.CHM(e).ngIf;return t.KtG(l.activeId=a)}),t.TgZ(3,"li",24)(4,"a",25),t._uU(5),t.qZA(),t.YNc(6,qt,1,1,"ng-template",26),t.qZA(),t.TgZ(7,"li",24)(8,"a",25),t._uU(9),t.qZA(),t.YNc(10,Lt,1,1,"ng-template",26),t.qZA()(),t._UZ(11,"div",27),t.qZA()}if(2&o){const e=n.ngIf,i=t.MAs(2),a=t.oxw().$implicit;t.ekj("yellow-grad",1===e.activeId)("green-grad",2===e.activeId),t.xp6(1),t.Q6J("activeId",e.activeId),t.xp6(2),t.Q6J("ngbNavItem",1),t.xp6(2),t.hij("Progetti (",a.projects.length,")"),t.xp6(2),t.Q6J("ngbNavItem",2),t.xp6(2),t.hij("Utenti (",a.users.length,")"),t.xp6(2),t.Q6J("ngbNavOutlet",i)}}N.\u0275fac=function(n){return new(n||N)(t.Y36(m),t.Y36(c.FF))},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-progetti"]],inputs:{organizationId:"organizationId"},decls:10,vars:7,consts:[[1,"d-flex","gap-2","p-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus"],[3,"thead","tbody","items","searchable","paginated","pageSize"],["dt",""],["thead",""],["tbody",""],["sortable","name",3,"sort"],["sortable","description",3,"sort"],["sortable","approvalCount",3,"sort"],["sortable","participants.length",3,"sort"],["sortable","status",3,"sort"],[2,"width","10rem"],[3,"result","term"],[2,"max-width","40ch"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],[1,"dropdown-divider"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return e.create()}),t._UZ(2,"i",2),t._uU(3," Add new project "),t.qZA()(),t.TgZ(4,"app-table",3,4),t.YNc(6,Jt,11,0,"ng-template",null,5,t.W1O),t.YNc(8,kt,24,13,"ng-template",null,6,t.W1O),t.qZA()),2&n){const i=t.MAs(7),a=t.MAs(9);t.xp6(4),t.Q6J("thead",i)("tbody",a)("items",e.state.getProjects(e.organizationId))("searchable",t.DdM(6,jt))("paginated",!0)("pageSize",5)}},dependencies:[c.jt,c.iD,c.Vi,c.TH,c._h,f,u,g.Ov]});const Qt=function(){return{activeId:1}};function Rt(o,n){1&o&&t.YNc(0,St,12,10,"div",20),2&o&&t.Q6J("ngIf",t.DdM(1,Qt))}const Et=function(){return["name","description"]};class O{constructor(n,e){this.state=n,this.modalService=e}create(){var n=this;return(0,b.Z)(function*(){yield n.modalService.open(v,{size:"lg",centered:!0}).result})()}update(n){var e=this;return(0,b.Z)(function*(){const i=e.modalService.open(v,{size:"lg",centered:!0});i.componentInstance.organizationId=n.id,yield i.result})()}delete(n){confirm("Se sicuro di voler procedere?")&&this.state.deleteOrganization(n)}}O.\u0275fac=function(n){return new(n||O)(t.Y36(m),t.Y36(c.FF))},O.\u0275cmp=t.Xpm({type:O,selectors:[["ng-component"]],decls:13,vars:8,consts:[[1,"card","col-md-10","my-5","mx-auto","shadow"],[1,"d-flex","gap-2","p-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus"],[3,"thead","tbody","items","rowExpand","searchable","paginated","pageSize"],["dt",""],["thead",""],["tbody",""],["rowExpand",""],["sortable","name",3,"sort"],["sortable","description",3,"sort"],["sortable","projects.length",3,"sort"],["sortable","users.length",3,"sort"],[2,"width","10rem"],[3,"result","term"],[2,"max-width","40ch"],[1,"d-flex","gap-2","justify-content-center"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3"],["class","py-5 px-3 grad",3,"yellow-grad","green-grad",4,"ngIf"],[1,"py-5","px-3","grad"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"bg-white","border","border-top-0","rounded-bottom",3,"ngbNavOutlet"],[3,"organizationId"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.create()}),t._UZ(3,"i",3),t._uU(4," Add new organization "),t.qZA()(),t.TgZ(5,"app-table",4,5),t.YNc(7,Pt,9,0,"ng-template",null,6,t.W1O),t.YNc(9,Ut,16,10,"ng-template",null,7,t.W1O),t.YNc(11,Rt,1,2,"ng-template",null,8,t.W1O),t.qZA()()),2&n){const i=t.MAs(8),a=t.MAs(10),r=t.MAs(12);t.xp6(5),t.Q6J("thead",i)("tbody",a)("items",e.state.getOrganizations())("rowExpand",r)("searchable",t.DdM(7,Et))("paginated",!0)("pageSize",5)}},dependencies:[g.O5,c.uN,c.Pz,c.nv,c.Vx,c.tO,c._h,f,u,w,N,g.Ov],styles:[".grad[_ngcontent-%COMP%]{transition:background .4s ease}.yellow-grad[_ngcontent-%COMP%]{background:linear-gradient(155deg,rgb(225 225 225 / 25%),rgba(135,90,25,.25))}.green-grad[_ngcontent-%COMP%]{background:linear-gradient(155deg,rgb(225 225 225 / 25%),rgba(90,135,25,.25))}"]});const Yt=[{path:"",component:O}];class T{}T.\u0275fac=function(n){return new(n||T)},T.\u0275mod=t.oAB({type:T}),T.\u0275inj=t.cJS({imports:[g.ez,L.Bz.forChild(Yt),S.m]})}}]);